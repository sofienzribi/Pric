<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>
</h:head>
<h:body>
	<ui:composition template="/template/TmpMaster.xhtml">
		<ui:define name="title">Risks On map </ui:define>
		<ui:define name="content">
			<div class="jumbotron">
				<h2>Risks On Map</h2>
			</div>
			<p:panel id="master">
				<h:form>
					<h:panelGrid id="eu" columns="2">
						<h:outputLabel value="Region" />
						<p:selectOneMenu value="#{facultativeBean.reg1}"
							style="width:375px">
							<p:ajax event="valueChange"
								listener="#{facultativeBean.OnRegionChange()}"
								update=":master " />
							<f:selectItem itemLabel="All regions" itemValue="all" />
							<f:selectItems value="#{facultativeBean.reg}" var="cat"
								itemValue="#{cat}" itemLabel="#{cat}" />
						</p:selectOneMenu>
						<h:outputLabel value="Country" />
						<p:selectOneMenu id="country" value="#{facultativeBean.countr1}"
							style="width:375px">
							<p:ajax event="valueChange"
								listener="#{facultativeBean.affichselec()}"
								update=":master" />
							<f:selectItem itemLabel="select country" />
							<f:selectItems value="#{facultativeBean.countr}" var="cat"
								itemValue="#{cat}" itemLabel="#{cat}" />
						</p:selectOneMenu>
						<h:outputLabel value="Occupancy" style="width:375px" />
						<p:selectOneMenu value="#{facultativeBean.occup1}"
							style="width:375px">
							<p:ajax event="valueChange"
								listener="#{facultativeBean.affichselec()}"  />
							<f:selectItem itemLabel="select occupancy" />
							<f:selectItems value="#{facultativeBean.occup}" var="cat"
								itemValue="#{cat}" itemLabel="#{cat}" />
						</p:selectOneMenu>
					</h:panelGrid>
				</h:form>
			</p:panel>
			
			<div id="map">
				<p:gmap center="26.0275, 50.5500" zoom="2" type="HYBRID"
					style="width:1000px;height:400px" model="#{MapBean.simpleModel}">
					<p:ajax event="overlaySelect" listener="#{MapBean.onMarkerSelect}" />
					<p:gmapInfoWindow id="infoWindow">
						<p:outputPanel
							style="text-align: center; display: block; margin: auto">
							TrustRe 
							<h:outputText value="#{MapBean.marker.title}" />
							<br />
						</p:outputPanel>
					</p:gmapInfoWindow>
				</p:gmap>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>